{"version":3,"sources":["main.js"],"names":["btn","document","querySelector","content","data","JSON","parse","localStorage","getItem","addEventListener","addData","updateList","e","preventDefault","cm","value","kg","cmMath","bmi","toFixed","bar","status","circle","text","btnImg","re","test","remove","str","innerHTML","alert","date","Date","MM","getMonth","DD","getDate","YY","getFullYear","today","resultList","weight","height","push","setItem","stringify","onclick","window","location","reload","items","len","length","i","deleteList","target","className","index","dataset","splice"],"mappings":"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","file":"main.js","sourcesContent":["//指定dom\nvar btn = document.querySelector('.result-btn');\nvar content = document.querySelector('.content');\nvar data = JSON.parse(localStorage.getItem('listData')) || [];\n\nbtn.addEventListener('click', addData);\nupdateList(data);\n\n//加入列表，並更新網頁與localStorage\nfunction addData(e) {\n    //把預設的動作取消\n    e.preventDefault();\n\n    //計算BMI\n    var cm = document.querySelector('.input-box_one input').value;\n    var kg = document.querySelector('.input-box_two input').value;\n    var cmMath = cm / 100;\n    var bmi = (kg / (cmMath * cmMath)).toFixed(2);\n\n    //判斷BMI數值後顯示目前狀態\n    if (bmi < 18.5) {\n        bar = 'cal-one';\n        status = '過輕';\n        circle = 'color-one_bor';\n        text = 'color-one';\n        btnImg = 'color-one_bg';\n    } else if (18.5 <= bmi && bmi < 24) {\n        bar = 'cal-two';\n        status = '正常';\n        circle = 'color-two_bor';\n        text = 'color-two';\n        btnImg = 'color-two_bg';\n    } else if (24 <= bmi && bmi < 27) {\n        bar = 'cal-three';\n        status = '過重';\n        circle = 'color-three_bor';\n        text = 'color-three';\n        btnImg = 'color-three_bg';\n    } else if (27 <= bmi && bmi < 30) {\n        bar = 'cal-four';\n        status = '輕度肥胖';\n        circle = 'color-four_bor';\n        text = 'color-four';\n        btnImg = 'color-four_bg';\n    } else if (30 <= bmi && bmi < 35) {\n        bar = 'cal-four';\n        status = '中度肥胖';\n        circle = 'color-five_bor';\n        text = 'color-five';\n        btnImg = 'color-five_bg';\n    } else if (bmi >= 35) {\n        bar = 'cal-five';\n        status = '重度肥胖';\n        circle = 'color-five_bor';\n        text = 'color-five';\n        btnImg = 'color-five_bg';\n    }\n\n    //更新按鈕 \n        //[?]代表前面的字符最多只可以出现零次或一次\n        //[*]代表前面字符可以出现零次、一次或者多次\n    var re =/^[0-9]+.?[0-9]*$/;\n    if(re.test(cm) === true && re.test(kg) === true){\n        btn.remove();\n        var str = '<div class=\"result-show d-flex flex-column justify-content-center ' + circle + '\"><span class=\"level-value ' + text + '\">' + bmi + '</span><span class=\"level-content ' + text + '\">BMI</span><span class=\"level-btn ' + btnImg + ' ' + text + '\"><img src=\"images/icons_loop.png\"></img></span></div><div class=\"level-title ' + text + '\">' + status + '</div>';\n        document.querySelector('.result').innerHTML = str;\n    }else{\n        alert('請輸入數字 ：）');\n    }\n\n\n\n    //組合時間\n    var date = new Date();\n    var MM = date.getMonth() + 1;\n    var DD = date.getDate();\n    var YY = date.getFullYear();\n    var today = MM + '-' + DD + '-' + YY;\n\n    //組成物件 - 需存進 localStorage 的資料\n    var resultList = {\n        bar: bar,\n        status: status,\n        bmi: bmi,\n        weight: kg,\n        height: cm,\n        today: today\n    };\n\n    //放進data的[]\n    data.push(resultList);\n    //更新網頁內容\n    updateList(data);\n    //存進localStorage並轉型\n    localStorage.setItem('listData', JSON.stringify(data));\n    //重整頁面\n    document.querySelector('.result-show').onclick = function (e) {\n        e.preventDefault();\n        window.location.reload();\n    }\n}\n\n//更新網頁內容\nfunction updateList(items) {\n    var str = '';\n    var len = items.length;\n    for (var i = len - 1; i >= 0; i--) {\n        str += \n        '<div class=\"d-flex justify-content-center mb-3\">'\n        +'<div class=\"cal-board d-flex justify-content-between\">'\n        +'<div class=\"icon-cross\" data-index=' + i + '></div>'\n        +'<div class =\"' + items[i].bar + '\"></div>'\n        +'<div class=\"w-20 pl-4\"><span class=\"cal-bmi_set\">' + items[i].status + '</span></div>'\n        +'<div class=\"w-20\"><span class=\"cal-bmi pr-2\">BMI</span><span class=\"cal-bmi_set\">' + items[i].bmi + '</span></div>'\n        +'<div class=\"w-20\"><span class=\"cal-bmi pr-2\">weight</span><span class=\"cal-bmi_set\">' + items[i].weight + '</span></div>'\n        +'<div class=\"w-20\"><span class=\"cal-bmi pr-2\">height</span><span class=\"cal-bmi_set\">' + items[i].height + '</span></div>'\n        +'<div class=\"w-20 text-right pr-4\"><span class=\"cal-bmi_date\">' + items[i].today + '</span></div>'\n        +'</div>'\n        +'</div>';\n    }\n    content.innerHTML = str;\n}\n\n//刪除紀錄\nfunction deleteList(e) {\n    e.preventDefault();\n    if (e.target.className !== 'icon-cross') {\n        return;\n    };\n    var index = e.target.dataset.index;\n    data.splice(index, 1);\n    updateList(data);\n    localStorage.setItem('listData', JSON.stringify(data));\n}\ncontent.addEventListener('click', deleteList);\n"]}