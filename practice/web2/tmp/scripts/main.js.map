{"version":3,"sources":["main.js"],"names":["btn","document","querySelector","content","data","JSON","parse","localStorage","getItem","addEventListener","addData","updateList","e","preventDefault","cm","value","kg","cmMath","bmi","toFixed","bar","status","circle","text","btnImg","remove","str","innerHTML","date","Date","MM","getMonth","DD","getDate","YY","getFullYear","today","resultList","weight","height","push","setItem","stringify","items","len","length","i","deleteList","target","className","index","dataset","splice"],"mappings":"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","file":"main.js","sourcesContent":["//指定dom\nvar btn = document.querySelector('.result-btn');\nvar content = document.querySelector('.content');\nvar data = JSON.parse(localStorage.getItem('listData')) || [];\n\nbtn.addEventListener('click',addData)\nupdateList(data);\n\n//加入列表，並同步更新網頁與localStorage\nfunction addData(e) {\n    //把預設的動作取消\n    e.preventDefault();\n\n    //計算BMI\n    var cm = document.querySelector('.input-box_one input').value\n    var kg = document.querySelector('.input-box_two input').value\n    var cmMath = cm/100;\n    var bmi = (kg/(cmMath*cmMath)).toFixed(2);\n\n    //判斷BMI數值後顯示目前狀態\n    if(bmi<18.5){\n        bar = 'cal-one'\n        status = '過輕'\n        circle = 'color-one_bor'\n        text = 'color-one'\n        btnImg = 'color-one_bg';\n    }\n    else if(18.5 <= bmi && bmi < 24){\n        bar = 'cal-two'\n        status = '正常'\n        circle = 'color-two_bor'\n        text = 'color-two'\n        btnImg = 'color-two_bg';\n    }\n    else if(24 <= bmi && bmi < 27){\n        bar = 'cal-three'\n        status = '過重'\n        circle = 'color-three_bor'\n        text = 'color-three'\n        btnImg = 'color-three_bg';\n    }\n    else if(27 <= bmi && bmi < 30){\n        bar = 'cal-four'\n        status = '輕度肥胖'\n        circle = 'color-four_bor'\n        text = 'color-four'\n        btnImg = 'color-four_bg';  \n    }\n    else if(30 <= bmi && bmi < 35){\n        bar = 'cal-four'\n        status = '中度肥胖'\n        circle = 'color-five_bor'\n        text = 'color-five'\n        btnImg = 'color-five_bg';\n    }\n    else if(bmi >= 35){\n        bar = 'cal-five'\n        status = '重度肥胖'\n        circle = 'color-five_bor'\n        text = 'color-five'\n        btnImg = 'color-five_bg';\n    }\n\n    //更新按鈕外觀\n    btn.remove();\n    var str = '<div class=\"result-show d-flex flex-column justify-content-center '+circle+'\"><span class=\"level-value '+text+'\">'+bmi+'</span><span class=\"level-content '+text+'\">BMI</span><span class=\"level-btn '+btnImg+' '+text+'\"><img src=\"images/icons_loop.png\"></img></span></div><div class=\"level-title '+text+'\">'+status+'</div>'\n    document.querySelector('.result').innerHTML = str;\n\n    //組合時間\n    var date = new Date()\n    var MM = date.getMonth()+1;  \n    var DD = date.getDate();\n    var YY = date.getFullYear();\n    var today = MM+'-'+DD+'-'+YY;\n\n    //組成物件 - 需存進 localStorage 的資料\n    var resultList = {\n        bar:bar,\n        status:status,\n        bmi:bmi,\n        weight:kg,\n        height:cm,\n        today:today,\n    };\n\n    //放進data的[]\n    data.push(resultList);\n    //更新網頁內容\n    updateList(data);\n    //存進localStorage並轉型\n    localStorage.setItem('listData',JSON.stringify(data));\n    //更新按鈕\n    document.querySelector('.result-show').addEventListener('click',addData)\n}\n\n//更新網頁內容\nfunction updateList(items){\n    var str = '';\n    var len = items.length;\n    for(var i=(len-1); i>=0; i--){\n        str += '<div class=\"d-flex justify-content-center mb-3\"><div class=\"cal-board d-flex justify-content-between\"><div class=\"icon-cross\" data-index='+i+'></div><div class =\"'+items[i].bar+'\"></div><div class=\"w-20 pl-4\"><span class=\"cal-bmi_set\">'+items[i].status+'</span></div><div class=\"w-20\"><span class=\"cal-bmi pr-2\">BMI</span><span class=\"cal-bmi_set\">'+items[i].bmi+'</span></div><div class=\"w-20\"><span class=\"cal-bmi pr-2\">weight</span><span class=\"cal-bmi_set\">'+items[i].weight+'</span></div><div class=\"w-20\"><span class=\"cal-bmi pr-2\">height</span><span class=\"cal-bmi_set\">'+items[i].height+'</span></div><div class=\"w-20 text-right pr-4\"><span class=\"cal-bmi_date\">'+items[i].today+'</span></div></div></div>'\n    }\n    content.innerHTML = str;\n}\n\n//刪除紀錄\nfunction deleteList (e) {\n    e.preventDefault();\n    if(e.target.className !== 'icon-cross'){return};\n    var index = e.target.dataset.index;\n    data.splice(index,1);\n    updateList(data);\n    localStorage.setItem('listData',JSON.stringify(data));\n}\ncontent.addEventListener('click',deleteList)\n\n\n\n"]}